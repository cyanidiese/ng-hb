!function(){"use strict";angular.module("handbidDirectives",[])}(),function(){"use strict";function t(){return{restrict:"A",scope:{type:"=",inst:"="},templateUrl:hb_routes.views.directives.title,replace:!0,link:function(t,e,i,n){}}}angular.module("handbidDirectives").directive("handbidTitle",t)}(),function(){"use strict";function t(){return{restrict:"A",scope:{type:"=",inst:"="},templateUrl:hb_routes.views.directives.breadcrumbs,replace:!0,link:function(t,e,i,n){}}}angular.module("handbidDirectives").directive("handbidBreadcrumbs",t)}(),function(){"use strict";function t(){return{restrict:"EA",scope:{current:"=",maximum:"=",total:"="},templateUrl:hb_routes.views.directives.pagination,replace:!0,link:function(t,e,i,n){t.countNumberOfPages=function(){return Math.ceil(t.total/t.maximum)},t.getArrayOfPages=function(){for(var e={},i=t.countNumberOfPages(),n=0,r=1;r<=i;r++)1!=r&&2!=r&&3!=r&&r!=t.current-1&&r!=t.current&&r!=t.current+1&&r!=i-2&&r!=i-1&&r!=i||(e[n]=r,n=r);return e},t.setNewCurrentPage=function(e){t.current=e},t.incrementPage=function(){t.current++},t.decrementPage=function(){t.current--},t.setMaxPage=function(){t.current=t.countNumberOfPages()},t.setMinPage=function(){t.current=1}}}}angular.module("handbidDirectives").directive("handbidPagination",t)}(),function(){"use strict";function t(){return{restrict:"A",scope:{auction:"=handbidAuctionBox"},templateUrl:hb_routes.views.directives.auction_box,replace:!0,link:function(t,e,i,n){}}}angular.module("handbidDirectives").directive("handbidAuctionBox",t)}(),function(){"use strict";function t(){return{restrict:"A",scope:{item:"=handbidItemBox",auction:"=auction"},templateUrl:hb_routes.views.directives.item_box,replace:!0,link:function(t,e,i,n){t.getLeftText=function(t){return t.isForSaleItem?t.isDonation?"Donated":"Sold":"Bids"},t.getLeftValue=function(t){return t.isForSaleItem?t.hideSales?"":t.quantitySold:t.bidCount},t.getRightClass=function(t){return t.isForSaleItem?"remaining":"bid-now"},t.getRightText=function(t){return t.isForSaleItem?"Left":"Bid Now"},t.getRightValue=function(t){return t.isForSaleItem?t.hasInventory&&t.inventoryRemaining!=-1?t.inventoryRemaining:"âˆž":""}}}}angular.module("handbidDirectives").directive("handbidItemBox",t)}(),function(){"use strict";angular.module("handbidFactories",[])}(),function(){"use strict";function t(t){function e(e){return t.post(hb_routes.factories.auctions.list,e).then(function(t){return t.data})}function i(e){return t.post(hb_routes.factories.auctions.count,e).then(function(t){return t.data})}function n(e){return t.post(hb_routes.factories.auctions.details,e).then(function(t){return console.log(t.data),t.data})}return{getAuctions:e,getAuctionsCount:i,getAuctionBySlug:n}}angular.module("handbidFactories").factory("auctions",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e){return t.post(hb_routes.factories.auctions.items.details,e).then(function(t){return console.log(t.data),t.data})}return{getItemBySlug:e}}angular.module("handbidFactories").factory("items",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){function e(e){return t.post(hb_routes.factories.organizations.list,e).then(function(t){return t.data})}function i(){return t.post(hb_routes.factories.organizations.count).then(function(t){return t.data})}function n(e){return t.post(hb_routes.factories.organizations.details,e).then(function(t){return console.log(t.data),t.data})}return{getOrganizations:e,getOrganizationsCount:i,getOrganizationBySlug:n}}angular.module("handbidFactories").factory("organizations",t),t.$inject=["$http"]}(),function(){"use strict";angular.module("handbidServices",[])}(),function(){"use strict";function t(){function t(t){a=t}function e(){return a}function i(t){o=t}function n(){return o}function r(t){return""}var a="",o=!1;return{setPageType:t,getPageType:e,setPageObject:i,getPageObject:n,getAuctionTimeRanges:r}}angular.module("handbidServices").service("intermediator",t)}(),function(){"use strict";angular.module("handbidApp",["ngRoute","ngResource","ngAnimate","handbidDirectives","handbidFactories","handbidServices"])}(),function(){"use strict";function t(t,e,i,n){function r(){var t={slug:h.auctionSlug};n.getAuctionBySlug(t).then(function(t){h.initialization=!1,h.auction=t,h.intermediator.setPageObject(t),a()})}function a(){h.categories=[],h.items=[],angular.forEach(h.auction.categories,function(t){h.categories.push(t),angular.forEach(t.items,function(t){t.isForSaleItem=t.isDirectPurchaseItem||t.isTicket,t.isForSaleItem&&(t.currentPrice=t.buyNowPrice),h.items.push(t)})}),o()}function o(){h.displayed_items=[],angular.forEach(h.items,function(t){var e=!0;if("all"!=h.items_category&&(e=e&&t.categoryId==h.items_category),"all"!=h.items_type)switch(h.items_type){case"for_sale":e=e&&t.isForSaleItem;break;case"live":e=e&&(t.disableMobileBidding||t.isBidpadOnly);break;case"no_bids":e=e&&!t.isForSaleItem&&0==t.bidCount;break;case"tickets":e=e&&t.isTicket}""!=h.items_search&&(e=e&&t.name.toLowerCase().includes(h.items_search.toLowerCase())),parseInt(t.isHidden)&&(e=!1),e&&h.displayed_items.push(t)})}function s(){var t=!1;return angular.forEach(h.items,function(e){e.isTicket&&(t=!0)}),t}function c(){h.items_search=""}function u(t){h.items_type=t}function l(t){h.items_category=t}function g(){switch(h.items_sorting_type){case"_sortNameAsc":h.order_by="name",h.order_reverse=!1;break;case"_sortNameDesc":h.order_by="name",h.order_reverse=!0;break;case"_sortPriceAsc":h.order_by="currentPrice",h.order_reverse=!1;break;case"_sortPriceDesc":h.order_by="currentPrice",h.order_reverse=!0;break;case"_sortBidsAsc":h.order_by="bidCount",h.order_reverse=!1;break;case"_sortBidsDesc":h.order_by="bidCount",h.order_reverse=!0}}function d(){return[{value:"_sortNameAsc",title:"Name: A-Z"},{value:"_sortNameDesc",title:"Name: Z-A"},{value:"_sortPriceAsc",title:"Price: Low to High"},{value:"_sortPriceAsc",title:"Price: Low to High"},{value:"_sortPriceDesc",title:"Price: High to Low"},{value:"_sortBidsAsc",title:"Total Bids: Least to Most"},{value:"_sortBidsDesc",title:"Total Bids: Most to Least"}]}function m(t){var e=[{value:"all",title:(t?"Type: ":"")+"All Items"},{value:"for_sale",title:"For Sale"},{value:"live",title:"Live"},{value:"no_bids",title:"No Bids"}];return s()&&e.push({value:"tickets",title:"Tickets"}),e}function f(t){var e=[{value:"all",title:(t?"Category: ":"")+"All Items ("+h.items.length+")"}];return angular.forEach(h.categories,function(t){e.push({value:t.id,title:t.name+" ("+t.items.length+")"})}),e}var h=this;h.initialization=!0,h.intermediator=i,h.intermediator.setPageType("auction"),h.auctionSlug=e.auctionSlug,h.items_type="all",h.items_category="all",h.items_search="",h.items_sorting_type="_sortNameAsc",h.order_by="name",h.order_reverse=!1,h.auction=!1,h.categories=[],h.items=[],h.displayed_items=[],h.clearItemsSearch=c,h.changeItemsType=u,h.changeItemsCategory=l,h.changeItemsOrdering=g,h.getFiltersOrdering=d,h.getFiltersByCategories=f,h.getFiltersByType=m,r(),t.$watch("vm.items_type + vm.items_category + vm.items_search",function(t,e){o()})}angular.module("handbidApp").controller("AuctionDetailsCtrl",t),t.$inject=["$scope","$routeParams","intermediator","auctions"]}(),function(){"use strict";function t(t,e,i){function n(t){t||(l.loading=!0);var e={statuses:l.statuses[l.current_status].join(","),page:l.auctions_page,limit:l.auctions_per_page};""!=l.search_string.trim()&&(e.search=l.search_string),i.getAuctions(e).then(function(t){l.loading=!1,l.auctions=t,a()})}function r(){var t={statuses:l.statuses[l.current_status].join(",")};""!=l.search_string.trim()&&(t.search=l.search_string),i.getAuctionsCount(t).then(function(t){l.auctions_total=t.count})}function a(){l.auctions_chunks=[];var t,e,i=4;for(t=0,e=l.auctions.length;t<e;t+=i)l.auctions_chunks.push(l.auctions.slice(t,t+i))}function o(t){l.current_status!=t&&(l.current_status=t,l.auctions_page=1,l.auctions_total=0,n(),r())}function s(){l.search_string=""}function c(t){t==l.search_time_changed&&(l.auctions_page=1,l.auctions_total=0,n(),r())}function u(){return(new Date).getTime()}var l=this;l.loading=!0,l.intermediator=e,l.intermediator.setPageType("auctions"),l.intermediator.setPageObject(!1),l.auctions=[],l.auctions_chunks=[],l.auctions_per_page=24,l.auctions_page=1,l.auctions_total=0,l.statuses={current:["open","extended","preview","presale","ending"],open:["open","extended","ending"],presale:["presale"],preview:["preview"],closed:["closed","reconciled","ending"]},l.current_status="current",l.search_string="",l.search_time_changed=u(),l.selectAuctionsByStatus=o,l.clearSearchString=s,n(),r(),t.$watch("vm.auctions_page",function(t,e){n(!0)}),t.$watch("vm.search_string",function(t,e){if(e!=t){var i=u();l.search_time_changed=i,setTimeout(function(){c(i)},2e3)}})}angular.module("handbidApp").controller("AuctionListCtrl",t),t.$inject=["$scope","intermediator","auctions"]}(),function(){"use strict";function t(t,e,i,n){function r(){var t={slug:a.itemSlug};n.getItemBySlug(t).then(function(t){a.initialization=!1,a.item=t,a.intermediator.setPageObject(t),a.auction=a.item.auction})}var a=this;a.initialization=!0,a.intermediator=i,a.intermediator.setPageType("item"),a.auctionSlug=e.auctionSlug,a.itemSlug=e.itemSlug,a.item=[],a.auction=[],r()}angular.module("handbidApp").controller("ItemDetailsCtrl",t),t.$inject=["$scope","$routeParams","intermediator","items"]}(),function(){"use strict";function t(t,e,i,n){function r(){var t={slug:a.auctionSlug};n.getOrganizationBySlug(t).then(function(t){a.initialization=!1,a.organization=t,a.intermediator.setPageObject(t)})}var a=this;a.initialization=!0,a.intermediator=i,a.intermediator.setPageType("auction"),a.organizationSlug=e.organizationSlug,a.organization=!1,r()}angular.module("handbidApp").controller("OrganizationDetailsCtrl",t),t.$inject=["$scope","$routeParams","intermediator"]}(),function(){"use strict";function t(t,e,i){function n(){var t={page:o.organizations_page,limit:o.organizations_per_page};i.getOrganizations(t).then(function(t){o.loading=!1,o.organizations=t,a()})}function r(){i.getOrganizationsCount().then(function(t){o.organizations_total=t.count})}function a(){o.organizations_chunks=[];var t,e,i=4;for(t=0,e=o.organizations.length;t<e;t+=i)o.organizations_chunks.push(o.organizations.slice(t,t+i))}var o=this;o.loading=!0,o.intermediator=e,o.intermediator.setPageType("organizations"),o.intermediator.setPageObject(!1),o.organizations=[],o.organizations_chunks=[],o.organizations_per_page=24,o.organizations_page=1,o.organizations_total=0,n(),r(),t.$watch("vm.organizations_page",function(t,e){n()})}angular.module("handbidApp").controller("OrganizationListCtrl",t),t.$inject=["$scope","intermediator","organizations"]}(),function(){"use strict";function t(t,e){var i=this;i.intermediator=e}angular.module("handbidApp").controller("TitleCtrl",t),t.$inject=["$scope","intermediator"]}(),function(){"use strict";function t(t,e){var i=this;i.intermediator=e}angular.module("handbidApp").controller("BreadcrumbsCtrl",t),t.$inject=["$scope","intermediator"]}(),function(){"use strict";function t(t){t.when("/",{redirectTo:"/auctions"}).when("/auctions",{templateUrl:hb_routes.views.main.auction.list,controller:"AuctionListCtrl",controllerAs:"vm"}).when("/auctions/:auctionSlug",{templateUrl:hb_routes.views.main.auction.details,controller:"AuctionDetailsCtrl",controllerAs:"vm"}).when("/auctions/:auctionSlug/item/:itemSlug",{templateUrl:hb_routes.views.main.auction.item.details,controller:"ItemDetailsCtrl",controllerAs:"vm"}).when("/organizations",{templateUrl:hb_routes.views.main.organization.list,controller:"OrganizationListCtrl",controllerAs:"vm"}).when("/organizations/:organizationSlug",{templateUrl:hb_routes.views.main.organization.details,controller:"OrganizationDetailsCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/auctions"})}angular.module("handbidApp").config(t),t.$inject=["$routeProvider"]}();